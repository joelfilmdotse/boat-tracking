<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.2">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;Båtspårning&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQPgoebWqFXyHmBYUPDd8-tRI170wyoJs"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>let map;</p>
<p class="p1"><span class="Apple-converted-space">    </span>let boats = {}; // Hållare för båtarnas markörer och historik</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Initiera kartan</p>
<p class="p1"><span class="Apple-converted-space">    </span>function initMap() {</p>
<p class="p1"><span class="Apple-converted-space">      </span>map = new google.maps.Map(document.getElementById("map"), {</p>
<p class="p1"><span class="Apple-converted-space">        </span>center: { lat: 57.60826637913071, lng: 11.796081624745197 }, // Vind i seglen koordinater</p>
<p class="p1"><span class="Apple-converted-space">        </span>zoom: 10,</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// Hämta GPS-data varje sekund</p>
<p class="p1"><span class="Apple-converted-space">      </span>setInterval(updateBoatPositions, 1000);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Uppdatera båtarnas positioner</p>
<p class="p1"><span class="Apple-converted-space">    </span>function updateBoatPositions() {</p>
<p class="p1"><span class="Apple-converted-space">      </span>// Exempeldata: Detta ska ersättas med data från din server eller Google Sheet</p>
<p class="p1"><span class="Apple-converted-space">      </span>const gpsData = [</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ id: "boat1", lat: 57.60800774112793, lng: 11.796280108211562, speed: 5 },</p>
<p class="p1"><span class="Apple-converted-space">        </span>{ id: "boat2", lat: 57.60826206851243, lng: 11.796937249417766, speed: 6 },</p>
<p class="p1"><span class="Apple-converted-space">      </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>gpsData.forEach((boat) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (boats[boat.id]) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>// Uppdatera markörens position</p>
<p class="p1"><span class="Apple-converted-space">          </span>boats[boat.id].marker.setPosition(new google.maps.LatLng(boat.lat, boat.lng));</p>
<p class="p2"><span class="Apple-converted-space">          </span></p>
<p class="p1"><span class="Apple-converted-space">          </span>// Lägg till historiklinje</p>
<p class="p1"><span class="Apple-converted-space">          </span>const path = boats[boat.id].path.getPath();</p>
<p class="p1"><span class="Apple-converted-space">          </span>path.push(new google.maps.LatLng(boat.lat, boat.lng));</p>
<p class="p1"><span class="Apple-converted-space">        </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">          </span>// Skapa en ny markör för båten</p>
<p class="p1"><span class="Apple-converted-space">          </span>boats[boat.id] = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>marker: new google.maps.Marker({</p>
<p class="p1"><span class="Apple-converted-space">              </span>position: { lat: boat.lat, lng: boat.lng },</p>
<p class="p1"><span class="Apple-converted-space">              </span>map: map,</p>
<p class="p1"><span class="Apple-converted-space">              </span>title: boat.id,</p>
<p class="p1"><span class="Apple-converted-space">              </span>icon: {</p>
<p class="p1"><span class="Apple-converted-space">                </span>url: "https://img.icons8.com/emoji/48/sailboat-emoji.png", // Anpassa med din egen ikon</p>
<p class="p1"><span class="Apple-converted-space">                </span>scaledSize: new google.maps.Size(32, 32),</p>
<p class="p1"><span class="Apple-converted-space">              </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>}),</p>
<p class="p1"><span class="Apple-converted-space">            </span>path: new google.maps.Polyline({</p>
<p class="p1"><span class="Apple-converted-space">              </span>map: map,</p>
<p class="p1"><span class="Apple-converted-space">              </span>strokeColor: "#FF0000",</p>
<p class="p1"><span class="Apple-converted-space">              </span>strokeOpacity: 1.0,</p>
<p class="p1"><span class="Apple-converted-space">              </span>strokeWeight: 2,</p>
<p class="p1"><span class="Apple-converted-space">            </span>}),</p>
<p class="p1"><span class="Apple-converted-space">          </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body onload="initMap()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div id="map" style="width: 100%; height: 100vh;"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
